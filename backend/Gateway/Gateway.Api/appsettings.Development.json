{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ReverseProxy": {
    "Routes": {
      "departments-route": {
        "ClusterId": "departments-cluster",
        "Match": {
          "Path": "/api/v{version}/departments/{**catch-all}"
        },
        "Transforms": [
          { "RequestHeaderOriginalHost": "true" },
          { "RequestHeader": "X-Real-IP", "Set": "{RemoteIp}" },
          { "RequestHeader": "X-Forwarded-For", "Set": "{ForwardedFor}" },
          { "RequestHeader": "X-Forwarded-Proto", "Set": "{Scheme}" }
        ]
      },
      "locations-route": {
        "ClusterId": "locations-cluster",
        "Match": {
          "Path": "/api/v{version}/locations/{**catch-all}"
        },
        "Transforms": [
          { "RequestHeaderOriginalHost": "true" },
          { "RequestHeader": "X-Real-IP", "Set": "{RemoteIp}" },
          { "RequestHeader": "X-Forwarded-For", "Set": "{ForwardedFor}" },
          { "RequestHeader": "X-Forwarded-Proto", "Set": "{Scheme}" }
        ]
      },
      "positions-route": {
        "ClusterId": "positions-cluster",
        "Match": {
          "Path": "/api/v{version}/positions/{**catch-all}"
        },
        "Transforms": [
          { "RequestHeaderOriginalHost": "true" },
          { "RequestHeader": "X-Real-IP", "Set": "{RemoteIp}" },
          { "RequestHeader": "X-Forwarded-For", "Set": "{ForwardedFor}" },
          { "RequestHeader": "X-Forwarded-Proto", "Set": "{Scheme}" },
        ]
      },
      "files-route": {
        "ClusterId": "files-cluster",
        "Match": {
          "Path": "/api/v{version}/files/{**catch-all}"
        },
        "Transforms": [
          { "RequestHeaderOriginalHost": "true" },
          { "RequestHeader": "X-Real-IP", "Set": "{RemoteIp}" },
          { "RequestHeader": "X-Forwarded-For", "Set": "{ForwardedFor}" },
          { "RequestHeader": "X-Forwarded-Proto", "Set": "{Scheme}" },
        ]
      },
      "storage-route": {
        "ClusterId": "minio-cluster",
        "Match": {
          "Path": "/storage/{**catch-all}"
        },
        "MaxRequestBodySize": -1,
        "Transforms": [
          { "RequestHeaderOriginalHost": "true" },
          { "RequestHeader": "X-Real-IP", "Set": "{RemoteIp}" },
          { "RequestHeader": "X-Forwarded-For", "Set": "{ForwardedFor}" },
          { "RequestHeader": "X-Forwarded-Proto", "Set": "{Scheme}" },
          { "PathRemovePrefix": "/storage" }
        ]
      }      
    },
    "Clusters": {
      "departments-cluster": {
        "Destinations": {
          "destination1": {
            "Address": "http://localhost:5048"
          }
        }
      },
      "locations-cluster": {
        "Destinations": {
          "destination1": {
            "Address": "http://localhost:5048"
          }
        }
      },
      "positions-cluster": {
        "Destinations": {
          "destination1": {
            "Address": "http://localhost:5048"
          }
        }
      },
      "files-cluster": {
        "Destinations": {
          "destination1": {
            "Address": "http://localhost:5201"
          }
        }
      },
      "minio-cluster": {
        "Destinations": {
          "destination1": {
            "Address": "http://localhost:9000/"
          }
        },
        "HttpClient": {
          "RequestTimeout": "00:05:00",
          "ConnectionTimeout": "00:00:30",
          "WebProxy": null
        }
      }
    }
  }
}
      
